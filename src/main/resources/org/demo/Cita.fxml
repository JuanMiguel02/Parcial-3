<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.Cursor?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.TitledPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/24.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="org.demo.Controllers.CitasController">

    <top>
        <Label style="-fx-font-size: 26px; -fx-font-weight: bold;" text="Agendamiento Citas" BorderPane.alignment="CENTER" />
    </top>

    <center>
        <ScrollPane fitToHeight="true" fitToWidth="true">

            <content>
                <VBox spacing="25">

                    <TitledPane expanded="true" text="Registrar Cita">

                        <!-- SIN PADDING — SOLO HGAP/VGAP -->
                        <GridPane hgap="40" vgap="20">

                            <!-- ================= COLUMNA IZQUIERDA ================= -->
                            <VBox prefHeight="461.0" prefWidth="393.0" spacing="15" GridPane.columnIndex="0" GridPane.rowIndex="0">

                                <Label prefHeight="36.0" prefWidth="161.0" style="-fx-font-size: 16px; -fx-font-weight: bold;" text="Paciente" textFill="#2c5364">
                           <font>
                              <Font size="10.0" />
                           </font></Label>

                                <HBox spacing="10">
                                    <TextField fx:id="txtBuscarDocumento" prefHeight="25.0" prefWidth="313.0" promptText="Ingrese el documento del paciente" />
                                    <Button onAction="#onBuscarPaciente" prefHeight="47.0" prefWidth="64.0" style="-fx-background-color: #3498DB;" text="Buscar">
                              <font>
                                 <Font name="Trebuchet MS Bold" size="12.0" />
                              </font></Button>
                                </HBox>

                                <ComboBox fx:id="cmbPacientes" prefHeight="25.0" prefWidth="313.0" />

                                <Separator />

                                <TextField fx:id="txtNombrePaciente" editable="false" promptText="Nombre" />
                                <TextField fx:id="txtDocumentoPaciente" editable="false" promptText="Documento" />
                                <TextField fx:id="txtTelefonoPaciente" editable="false" promptText="Teléfono" />
                        <TextField fx:id="txtCorreoPaciente" editable="false" layoutX="10.0" layoutY="228.0" promptText="Teléfono" />

                                <Separator />

                                <Label style="-fx-font-size: 16px; -fx-font-weight: bold;" text="Datos de la cita" textFill="#2c5364" />

                                <DatePicker fx:id="dtFecha" />
                                <TextField fx:id="txtHora" promptText="Hora (HH:MM)" />
                                <TextField fx:id="txtMotivo" promptText="Motivo de la cita" />
                                <TextField fx:id="txtPrecio" promptText="Precio" />
                            </VBox>

                            <!-- ================= COLUMNA DERECHA ================= -->
                            <VBox prefHeight="461.0" prefWidth="516.0" spacing="15" GridPane.columnIndex="1" GridPane.rowIndex="0">

                                <Label style="-fx-font-size: 16px; -fx-font-weight: bold;" text="Médico" textFill="#2c5364">
                           <font>
                              <Font size="16.0" />
                           </font></Label>

                                <ComboBox fx:id="cmbMedicos" prefHeight="25.0" prefWidth="522.0" />

                                <Separator />

                                <Label text="Observaciones">
                           <font>
                              <Font size="20.0" />
                           </font></Label>
                                <TextArea fx:id="txtObservaciones" prefHeight="169.0" prefRowCount="6" prefWidth="516.0" />

                                <HBox alignment="CENTER_LEFT" prefHeight="50.0" prefWidth="458.0" spacing="15">
                                    <Button onAction="#onGuardarCita" prefHeight="50.0" prefWidth="100.0" style="-fx-font-size: 14px; -fx-background-radius: 10; -fx-background-color: #2ECC71;" text="Guardar">
                                        <font><Font name="Trebuchet MS Bold" size="14.0" /></font>
                              <cursor>
                                 <Cursor fx:constant="HAND" />
                              </cursor></Button>
                           <Button layoutX="10.0" layoutY="10.0" onAction="#onActualizarCita" prefHeight="50.0" prefWidth="100.0" style="-fx-font-size: 14px; -fx-background-radius: 10px; -fx-background-color: #3498DB;" text="Actualizar">
                              <cursor>
                                 <Cursor fx:constant="HAND" />
                              </cursor>
                               <font><Font name="Trebuchet MS Bold" size="14.0" /></font>
                           </Button>
                           <Button layoutX="93.0" layoutY="10.0" onAction="#onEliminarCita" prefHeight="50.0" prefWidth="100.0" style="-fx-font-size: 14px; -fx-background-radius: 10px; -fx-background-color: #E74C3C;" text="Eliminar">
                              <cursor>
                                 <Cursor fx:constant="HAND" />
                              </cursor>
                               <font><Font name="Trebuchet MS Bold" size="14.0" /></font>
                           </Button>
                                    <Button onAction="#onLimpiarCampos" prefHeight="50.0" prefWidth="100.0" style="-fx-font-size: 14px; -fx-background-radius: 10px; -fx-background-color: #BDC3C7;" text="Limpiar">
                                        <font><Font name="Trebuchet MS Bold" size="14.0" /></font>
                              <cursor>
                                 <Cursor fx:constant="HAND" />
                              </cursor></Button>
                                </HBox>

                            </VBox>
                     <columnConstraints>
                        <ColumnConstraints />
                        <ColumnConstraints />
                     </columnConstraints>
                     <rowConstraints>
                        <RowConstraints />
                     </rowConstraints>

                        </GridPane>

                    </TitledPane>

                    <TitledPane expanded="true" text="Citas Registradas">

                        <VBox spacing="10">
                            <TableView fx:id="tblCitas" prefHeight="350">
                                <columns>

                                    <!-- TODAS IGUAL DE ANCHAS -->
                                    <TableColumn fx:id="colId" prefWidth="140" text="ID" />
                                    <TableColumn fx:id="colFecha" prefWidth="140" text="Fecha" />
                                    <TableColumn fx:id="colHora" prefWidth="140" text="Hora" />
                                    <TableColumn fx:id="colPaciente" prefWidth="140" text="Paciente" />
                                    <TableColumn fx:id="colMedico" prefWidth="140" text="Médico" />
                           <TableColumn fx:id="colConsultorio" prefWidth="140" text="Consultorio" />
                                    <TableColumn fx:id="colPrecio" prefWidth="140" text="Precio" />
                                    <TableColumn fx:id="colMotivo" prefWidth="140" text="Motivo" />

                                </columns>
                        <columnResizePolicy>
                           <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                            </TableView>
                        </VBox>

                    </TitledPane>

                </VBox>
            </content>
        </ScrollPane>
    </center>

</BorderPane>
